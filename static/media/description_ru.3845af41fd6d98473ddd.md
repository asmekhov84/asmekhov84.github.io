Регистрация облаков точек (point cloud registration, point cloud matching) — это процесс вычисления такой матрицы преобразования T, которая позволяет оптимальным образом совместить (align) исходное (source) облако точек с целевым (target) облаком точек. Под оптимальным здесь я подразумеваю такое совмещение, которое максимизирует количество соответствующих пар точек (correspondences) в исходном и целевом облаках. Две точки Ps и Pt называются соответствующими, если они являются взаимно ближайшими друг к другу (reciprocal corresponding points) и расстояние между ними не превышает некоторого наперёд заданного порога.

Целевые облака точек (обозначены красным цветом) были получены с помощью датчика профилей, закреплённого на фланце промышленного манипулятора. Исходные облака точек (обозначены синим цветом) были получены с помощью виртуального датчика профилей, основанного на методе ray casting. Этот датчик двигался по той же траектории, что и реальный датчик, и сканировал CAD-модели реальных деталей, размещённые в виртуальной сцене примерно там же, где и реальные изделия. Требовалось локализовать различные металлоконструкции, такие как строительные балки, кронштейны и т.д.

В связи с особенностями задачи время на вычисления не было строго ограничено, но требовались высокая надёжность и точность. Были протестированы различные методы регистрации облаков точек из разных библиотек, таких как PCL, Super4PCS и Halcon. В результате испытаний ни один из методов не смог обеспечить требуемую точность и надёжность на всех наборах данных и для произвольного начального положения исходного облака точек.

Однако результаты методов на разных наборах данных часто не коррелировали друг с другом. То есть на большинстве наборов данных хотя бы один из методов давал приемлемый результат. Поэтому я решил использовать все эти методы совместно, выполняя их один за другим и оценивая качество регистрации (score). Кроме того, параметры каждого метода были настроены для получения приемлемого результата на максимальном количестве наборов данных.

На рисунках ниже можно увидеть результаты работы алгоритма. Синие точки обозначают исходные облака, а красные точки обозначают целевые облака. Также на видео (1:17) можно увидеть практическое применение этого алгоритма.
